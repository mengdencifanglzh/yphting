<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.accp.dao.lzh.logisticsDao">
	<select id="querylogisticsInit" resultType="com.accp.vo.lzh.logisticsVO">
		SELECT `orderID` ,`title`,`orderTime`,`price`,`delivery`,`auditStatus`
		FROM `logistics` WHERE `userID`=#{userID}
	</select>
	<select id="querylogisticsLike" resultType="com.accp.vo.lzh.logisticsVO">
		SELECT `orderID` ,`title`,`orderTime`,`price`,`delivery`,`auditStatus` 
		FROM `logistics` WHERE 
		`userID`=#{userID} AND `orderID` LIKE '%${like}%' OR `title` LIKE '%${like}%' 
	</select>
	<select id="querylogisticsDetail" resultType="com.accp.pojo.Logistics">
		SELECT * FROM `logistics` WHERE `userID`=#{userID} AND `orderID`='${orderID}'
	</select>
	<select id="queryShareaState" resultType="Sharea">
		SELECT * FROM `sharea` WHERE `level`=0
	</select>
	<select id="queryKoreaCity" resultType="Sharea">
		SELECT * FROM `sharea` WHERE `level`=2 AND `pid` IN(SELECT `areaID` FROM `sharea` WHERE `name`='${state}')
	</select>
	<select id="queryChinaCity" resultType="Sharea">
		SELECT * FROM `sharea` WHERE `level`=1 AND `pid` IN(SELECT `areaID` FROM `sharea` WHERE `name`='${state}')
	</select>
	<select id="queryChinaArea" resultType="Sharea">
		SELECT * FROM `sharea` WHERE `level`=2 AND `pid` IN(SELECT `areaID` FROM `sharea` WHERE `name`='${city}')
	</select>
	<select id="queryKoreaArea" resultType="Sharea">
		SELECT * FROM `sharea` WHERE `level`=3 AND `pid` IN(SELECT `areaID` FROM `sharea` WHERE `name`='${city}')
	</select>
</mapper>